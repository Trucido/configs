# ~/.config/i3/config 1.2.6.2   Time-stamp: <2016-06-12 14:17:53 PDT xoddf2>

# Appearance ###################################################################

# Font
font pango:Fixed 10px

# Colours
client.focused          #4D994D #356B35 #FFFFFF #6CB66C
client.focused_inactive #333333 #5F676A #FFFFFF #484E50
client.unfocused        #333333 #222222 #888888 #292D2E
client.urgent           #E65700 #A03C00 #FFFFFF #FF7623
client.placeholder      #000000 #0C0C0C #FFFFFF #000000

client.background       #000000

# Keys #########################################################################

# Use SUPER as modifier
set $mod Mod4

# Arrows
set $up    k
set $down  j
set $left  h
set $right l

# To move floating windows
floating_modifier $mod

# Terminal
bindsym $mod+Shift+Return exec "urxvtcd"

# Close window
bindsym $mod+Shift+c kill

# dmenu
bindsym $mod+p       exec --no-startup-id "dmenu_run"
bindsym $mod+Shift+p exec --no-startup-id "i3-dmenu-desktop"
bindsym $mod+period  exec --no-startup-id "dmenu_ssh 'urxvtc -e mosh'"

# Focus
bindsym $mod+$left  focus left
bindsym $mod+$down  focus down
bindsym $mod+$up    focus up
bindsym $mod+$right focus right

# Move
bindsym $mod+Shift+$left  move left
bindsym $mod+Shift+$down  move down
bindsym $mod+Shift+$up    move up
bindsym $mod+Shift+$right move right

# Horizontal split
bindsym $mod+b split h

# Vertical split
bindsym $mod+v split v

# Fullscreen
bindsym $mod+f fullscreen toggle

# Layout
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# Toggle tiling/floating
bindsym $mod+Shift+space floating toggle

# Change focus between tiling and floating windows
bindsym $mod+space focus mode_toggle

# Focus the parent container
bindsym $mod+a focus parent

# Focus the child container
bindsym $mod+Shift+a focus child

# Focus urgent window
bindsym $mod+Return [urgent=latest] focus

# Move window to scratchpad
bindsym $mod+Shift+minus move scratchpad

# Display scratchpad
bindsym $mod+minus scratchpad show

# Switch workspaces
bindsym $mod+1   workspace 1:main
bindsym $mod+2   workspace 2:www
bindsym $mod+3   workspace 3:media
bindsym $mod+4   workspace 4:gimp
bindsym $mod+5   workspace 5:vm
bindsym $mod+6   workspace 6:emu
bindsym $mod+7   workspace 7:games
bindsym $mod+8   workspace 8:xnest
bindsym $mod+9   workspace 9:misc
bindsym $mod+Tab workspace back_and_forth

# Move to workspace
bindsym $mod+Shift+1   move container to workspace 1:main
bindsym $mod+Shift+2   move container to workspace 2:www
bindsym $mod+Shift+3   move container to workspace 3:media
bindsym $mod+Shift+4   move container to workspace 4:gimp
bindsym $mod+Shift+5   move container to workspace 5:vm
bindsym $mod+Shift+6   move container to workspace 6:emu
bindsym $mod+Shift+7   move container to workspace 7:games
bindsym $mod+Shift+8   move container to workspace 8:xnest
bindsym $mod+Shift+9   move container to workspace 9:misc
bindsym $mod+Shift+Tab move container to workspace back_and_forth

# Switch between monitors
bindsym $mod+bracketleft  focus output left
bindsym $mod+bracketright focus output right

# Move workspace between monitors
bindsym $mod+Shift+bracketleft  move workspace to output left
bindsym $mod+Shift+bracketright move workspace to output right

# Monitor config
bindsym XF86Display exec --no-startup-id "monitor-switch --auto"

# TrackPointâ„¢ toggle
bindsym XF86TouchpadToggle exec --no-startup-id "toggle-trackpoint"

# Battery
bindsym XF86Battery exec --no-startup-id "acpi -V | xmessage -file -"

# ThinkVantage
bindsym XF86Launch1 exec "xdg-open http://www.thinkwiki.org/wiki/Category:X200"

# Volume
bindsym XF86AudioLowerVolume exec --no-startup-id "amixer set Master 1-"
bindsym XF86AudioRaiseVolume exec --no-startup-id "amixer set Master 1+"
bindsym XF86AudioMute        exec --no-startup-id "amixer set Master toggle"

# Audacious
bindsym XF86AudioPrev exec --no-startup-id "audacious --rew"
bindsym XF86AudioPlay exec --no-startup-id "audacious --play-pause"
bindsym XF86AudioStop exec --no-startup-id "audacious --stop"
bindsym XF86AudioNext exec --no-startup-id "audacious --fwd"

# Exit
bindsym $mod+Shift+e         reload
bindsym $mod+Shift+r         restart
bindsym $mod+Shift+backslash exit
bindsym XF86ScreenSaver      exec --no-startup-id "xscreensaver-command -lock"

# Resize
mode "resize" {
        bindsym $left  resize shrink width 1 px or 1 ppt
        bindsym $down  resize grow height 1 px or 1 ppt
        bindsym $up    resize shrink height 1 px or 1 ppt
        bindsym $right resize grow width 1 px or 1 ppt

	bindsym Shift+$left  resize shrink width 10 px or 10 ppt
	bindsym Shift+$down  resize grow height 10 px or 10 ppt
	bindsym Shift+$up    resize shrink height 10 px or 10 ppt
	bindsym Shift+$right resize grow width 10 px or 10 ppt

        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

# Applications
mode "apps" {
	bindsym t exec "urxvtcd -name tmux -e tmux attach-session"; mode "default"
	bindsym e exec "emacsclient -a '' -c"; mode "default"
	bindsym w exec "firefox --new-instance"; mode "default"
	bindsym Shift+w exec "torbrowser-launcher"; mode "default"
	bindsym v exec "vlc"; mode "default"
	bindsym a exec "audacious"; mode "default"
	bindsym g exec "gimp"; mode "default"

	bindsym n exec "fceux"; mode "default"
	bindsym s exec "snes9x-gtk"; mode "default"
	bindsym b exec "gvbam"; mode "default"
	bindsym k exec "kega-fusion"; mode "default"
	bindsym u exec "fs-uae-launcher"; mode "default"

	bindsym Return mode "default"
	bindsym Escape mode "default"
}

bindsym $mod+z mode "apps"

# Workspaces ###################################################################

assign [class="URxvt"]                  1:main
assign [class="Emacs"]                  1:main
assign [class="Firefox"]                2:www
assign [class="Tor Browser"]            2:www
assign [class="feh"]                    3:media
assign [class="mpv"]                    3:media
assign [class="Vlc"]                    3:media
assign [title="Audacious$"]             3:media
assign [class="Gimp"]                   4:gimp
assign [class="QEMU"]                   5:vm
assign [class="Fceux"]                  6:emu
assign [class="Snes9x-gtk"]             6:emu
assign [class="Gvbam"]                  6:emu
assign [class="Fusion"]                 6:emu
assign [class="fs-uae"]                 6:emu
assign [class="Application.py"]         6:emu
assign [class="lbreakout2"]             7:games
assign [class="Frozen-Bubble 2"]        7:games
assign [title="^Micropolis Scenarios$"] 7:games
assign [title="^Micropolis Controls$"]  7:games
assign [title="^Micropolis Budget$"]    7:games
assign [class="Xephyr"]                 8:xnest
assign [class="Wine"]                   9:misc
assign [class="Xpdf"]                   9:misc
assign [class="Audacity"]               9:misc
assign [class="XConsole"]               9:misc

workspace "1:main"  output LVDS1
workspace "2:www"   output VGA1
workspace "3:media" output VGA1
workspace "4:gimp"  output VGA1
workspace "5:vm"    output VGA1
workspace "6:emu"   output VGA1
workspace "7:games" output VGA1
workspace "8:xnest" output VGA1
workspace "9:misc"  output VGA1

# Misc #########################################################################

for_window [class="Firefox"]        layout tabbed
for_window [class="Tor Browser"]    layout tabbed
for_window [class="Gimp"]           floating enable
for_window [class="QEMU"]           floating enable
for_window [class="Fceux"]          floating enable
for_window [class="Snes9x-gtk"]     floating enable
for_window [class="Gvbam"]          floating enable
for_window [class="Fusion"]         floating enable
for_window [class="fs-uae"]         floating enable
for_window [class="Xephyr"]         floating enable
for_window [class="Xmessage"]       floating enable
for_window [title="^Event Tester$"] floating enable
for_window [class="XClock"]         floating enable
for_window [class="XLoad"]          floating enable
for_window [class="XBiff"]          floating enable
for_window [class="XCalc"]          floating enable
for_window [class="XConsole"]       floating enable

force_display_urgency_hint 1000 ms

# i3bar ########################################################################
bar {
        status_command i3status
        tray_output primary

	strip_workspace_numbers yes

	colors {
		background         #1C1C1C
		statusline         #808080
		separator          #808080

		focused_workspace  #4D994D #356B35 #FFFFFF
		active_workspace   #333333 #5F676A #FFFFFF
		inactive_workspace #333333 #222222 #888888
		urgent_workspace   #E65700 #A03C00 #FFFFFF
		binding_mode       #99994C #777728 #FFFFFF
	}
}

# Startup ######################################################################
exec --no-startup-id "xmodmap ~/.Xmodmap"
exec --no-startup-id "xsetroot -cursor_name left_ptr -solid black"
