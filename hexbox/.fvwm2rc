# .fvwm2rc 2.1.2   Time-stamp: <2014-01-01 17:31:17 xoddf2>

# This is a somewhat minimalist .fvwm2rc.  It has only one module, no icons,
# no title bars, and thin borders.
#
# Most actions are available via both the keyboard and the mouse.  Keybindings
# use the Mod4 key to avoid conflicting with other applications.  Certain
# applications can be raised if they are already running, or started if not.
# Windows can be moved or resized by holding Mod4 and dragging with the mouse.
#
# Window decorations are DarkRed for active and DarkBlue for inactive to make
# them easier to see.
#
# Certain applications start in specific pages and screens.  Emacs and xterm
# start on the left monitor.  Firefox starts on the right monitor.
# The GIMP and VirtualBox start on their own pages.
#
# Due to MinOverlapPercentPlacement, FVWM puts windows in sane positions.
#
# The only module is FvwmPager.  Icons are disabled, and there is no
# FvwmIconMan.  Iconified windows are accessible from the WindowList menu.

# General ######################################################################

# See FVWM FAQ entry 5.5 <http://fvwm.org/documentation/faq/#toc_5.5>
IgnoreModifiers L25

# Disable changing pages by moving the pointer to the edge of the screen:
EdgeScroll 0 0

# Style ########################################################################

# Focus
Style * SloppyFocus
Style * FPGrabFocus

# Snap
Style * SnapAttraction 16 Screen

# Place the windows better
Style * MinOverlapPercentPlacement

# This line makes XMMS, Audacious, mplayer -noborder, and similar work properly:
Style * MWMDecor

# Reduce the window decorations to a 1-pixel border:
Style * !Title
Style * BorderWidth 1, HandleWidth 1

# Colour the window borders:
Style * Color White/DarkBlue
Style * HilightBack DarkRed, HilightFore White

# Application-specific style
Style XTerm StartsOnScreen 0
Style Emacs StartsOnPage 0 0, StartsOnScreen 0
Style Firefox StartsOnPage 0 0, StartsOnScreen 1
Style gimp StartsOnPage 1 0
Style VirtualBox StartsOnPage 2 0
Style Display StartsOnScreen 1
Style MPlayer StartsOnScreen 1

# Disable icons
Style * NoIcon

# Functions ####################################################################

# Do nothing at urgency and don't steal focus
DestroyFunc UrgencyFunc
DestroyFunc EWMHActivateWindowFunc

# Prevent WindowListFunc from warping the pointer to the top left corner
DestroyFunc WindowListFunc
AddToFunc WindowListFunc
+ I Iconify off
+ I FlipFocus
+ I Raise

# For modifier+click moving and resizing
DestroyFunc DragMove
AddToFunc DragMove
+ M Move

DestroyFunc DragResize
AddToFunc DragResize
+ M Resize

# SelectWindow (Needed for RunOrRaise)
DestroyFunc SelectWindow
AddToFunc SelectWindow
+ I Focus
+ I Iconify false
+ I Raise

# Run or raise
DestroyFunc RunOrRaise
AddToFunc RunOrRaise
+ I Next ($0) SelectWindow
+ I TestRc (NoMatch) Exec exec $1

# Keybindings ##################################################################

# WindowList
Key Tab A M -
Key Tab A 4 WindowList Root c c CurrentAtEnd, IconifiedAtEnd
MenuStyle WindowList SelectOnRelease Super_L

# Menus
Key Grave A 4 Popup MenuFvwmRoot
Key o A 4 Popup MenuFvwmWindowOps
Key l A 4 Popup MenuFvwmLogins

# Launch, run, or raise certain applications
Key c A 4 Exec exec xterm
Key C A 4S RunOrRaise screen "xterm -name screen -sl 0 -e screen -dRR"
Key e A 4 RunOrRaise Emacs "emacsclient --alternate-editor='' -c"
Key w A 4 RunOrRaise Firefox firefox

# Lock screen
Key Escape A 4 Exec exec xscreensaver-command -lock

# FvwmConsole
Key Colon A 4 Module FvwmConsole

# Window ops
Key Return A 4 Iconify
Key k A 4S Close
Key m A 4 Move
Key r A 4 Resize
Key z A 4 Maximize
Key equal A 4 Maximize 0 100
Key plus A 4S Maximize 100 0
Key Space A 4 RaiseLower
Key p A 4 PlaceAgain
Key Question A 4 FvwmIdent

# Switch to page...
Key 1 A 4 GotoPage 0 0
Key 2 A 4 GotoPage 1 0
Key 3 A 4 GotoPage 2 0
Key 4 A 4 GotoPage 0 1
Key 5 A 4 GotoPage 1 1
Key 6 A 4 GotoPage 2 1
Key 7 A 4 GotoPage 0 2
Key 8 A 4 GotoPage 1 2
Key 9 A 4 GotoPage 2 2
Key 0 A 4 GotoPage Prev

# Move window to page...
Key 1 A 4S MoveToPage 0 0
Key 2 A 4S MoveToPage 1 0
Key 3 A 4S MoveToPage 2 0
Key 4 A 4S MoveToPage 0 1
Key 5 A 4S MoveToPage 1 1
Key 6 A 4S MoveToPage 2 1
Key 7 A 4S MoveToPage 0 2
Key 8 A 4S MoveToPage 1 2
Key 9 A 4S MoveToPage 2 2
Key 0 A 4S MoveToPage Prev

# Tiling
Key t A 4 FvwmRearrange -tile -h -u -m -maximize
Key T A 4S FvwmRearrange -tile -u -m -maximize

# Mouse Bindings ###############################################################

# What to do when clicking the root window
Mouse 2 R A Menu MenuFvwmWindowOps Nop
Mouse 3 R A WindowList

# Move or resize window with SUPER+mouse
Mouse 1 TSIFW 4 DragMove
Mouse 3 TSIFW 4 DragResize

# Menus ########################################################################

DestroyMenu MenuFvwmRoot
AddToMenu MenuFvwmRoot "Root Menu" Title
+ "X&Term" Exec exec xterm
+ "- GNU S&creen" Exec exec xterm -name screen -sl 0 -e screen -dRR
+ "&Emacs" Exec exec emacsclient --alternate-editor='' -c
+ "&Firefox" Exec exec firefox
+ "" Nop
+ "The &GIMP" Exec exec gimp
+ "V&irtualBox" Exec exec VirtualBox
+ "" Nop
+ "&SSH" Popup MenuFvwmLogins
+ "" Nop
+ "Tile &Horiz" FvwmRearrange -tile -h -u -m -maximize
+ "Tile &Vert" FvwmRearrange -tile -u -m -maximize
+ "" Nop
+ "Fv&wmConsole" Module FvwmConsole
+ "" Nop
+ "&Lock" Exec exec xscreensaver-command -lock
+ "Leave" Popup MenuLeave

DestroyMenu MenuFvwmWindowOps
AddToMenu MenuFvwmWindowOps "Window Ops" Title
+ "&Move" Move
+ "&Resize" Resize
+ "R&aise" Raise
+ "&Lower" Lower
+ "(De)&Iconify" Iconify
+ "(Un)&Stick" Stick
+ "(Un)Ma&ximize" Maximize
+ "- &Horiz" Maximize 100 0
+ "- &Vert" Maximize 0 100
+ "Pla&ce Again" PlaceAgain
+ "" Nop
+ "Ide&ntify" FvwmIdent
+ "" Nop
+ "Move to &Page..." Popup MenuMoveToPage
+ "" Nop
+ "&Delete" Delete
+ "Destroy" Destroy

DestroyMenu MenuMoveToPage
AddToMenu MenuMoveToPage "Move to..." Title
+ "&1. $[gt.Northwest]" MoveToPage 0 0
+ "&2. $[gt.North]" MoveToPage 1 0
+ "&3. $[gt.Northeast]" MoveToPage 2 0
+ "&4. $[gt.West]" MoveToPage 0 1
+ "&5. $[gt.Central]" MoveToPage 1 1
+ "&6. $[gt.East]" MoveToPage 2 1
+ "&7. $[gt.Southwest]" MoveToPage 0 2
+ "&8. $[gt.South]" MoveToPage 1 2
+ "&9. $[gt.Southeast]" MoveToPage 2 2

# This menu is site-specific:
DestroyMenu MenuFvwmLogins
AddToMenu MenuFvwmLogins "Logins" Title
+ "&M. tesseract.hackerhaven.net" Exec exec \
  xterm -title tesseract -n tesseract -e ssh tesseract.hackerhaven.net
+ "&U. is.not.a.hax0r.se" Exec exec \
  xterm -title elisabeth -n elisabeth -e ssh is.not.a.hax0r.se
+ "&T. turtil.net" Exec exec \
  xterm -title archon -n archon -e ssh turtil.net
+ "" Nop
+ "Mount ssh&fs" Exec exec sshfs-mount
+ "" Nop
+ "&Add Key" Exec exec ssh-add
+ "&Delete Key" Exec exec ssh-add -D

DestroyMenu MenuLeave
AddToMenu MenuLeave "Leave" Title
+ "&Restart FVWM" Restart
+ "" Nop
+ "Restart &twm" Restart twm
+ "Restart &xterm" Restart xterm
+ "" Nop
+ "Exit" Quit

# Modules ######################################################################

DestroyModuleConfig FvwmPager: *
Style FvwmPager !Title, !Borders, !Iconifiable, Sticky, WindowListSkip, CirculateSkipIcon, ClickToFocus, FixedPosition, FixedSize
*FvwmPager: Geometry 120x120-0+0
*FvwmPager: Font none
*FvwmPager: Back Grey5
*FvwmPager: Fore Grey25
*FvwmPager: MiniIcons
*FvwmPager: Balloons
*FvwmPager: BalloonFore White
*FvwmPager: BalloonBack Black
*FvwmPager: BalloonBorderColor White

# StartFunction ################################################################

AddToFunc StartFunction
+ I Module FvwmCommandS
+ I Module FvwmPager 0 0
