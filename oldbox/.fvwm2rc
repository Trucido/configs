# $Id: .fvwm2rc,v 2.0 2013/11/13 18:53:29 xoddf2 Exp $

# See FVWM FAQ entry 5.5 <http://fvwm.org/documentation/faq/#toc_5.5>
IgnoreModifiers L25

# Style ########################################################################

Style * SloppyFocus
Style * SnapAttraction 16 Screen

# This line makes XMMS, Audacious, mplayer -noborder, and similar work properly:
Style * MWMDecor

# Disable changing pages by moving the pointer to the edge of the screen:
EdgeScroll 0 0

# Disable title bars and make the borders slightly thinner:
Style * !Title
Style * BorderWidth 5, HandleWidth 5

DefaultFont -adobe-helvetica-bold-r-*-*-12-*-*-*-*-*-*-*

# Make xclock, xload, and xbiff more like the FVWM modules
Style XClock !Title, !Borders, Sticky, WindowListSkip, CirculateSkipIcon, ClickToFocus, FixedPosition, FixedSize
Style XLoad !Title, !Borders, Sticky, WindowListSkip, CirculateSkipIcon, ClickToFocus, FixedPosition, FixedSize
Style XBiff !Title, !Borders, Sticky, WindowListSkip, CirculateSkipIcon, ClickToFocus, FixedPosition, FixedSize

# Application-specific style
Style XTerm MiniIcon mini.xterm.xpm
Style Seamonkey EWMHMiniIconOverride, MiniIcon mini.nscape.xpm
Style Emacs EWMHMiniIconOverride, MiniIcon mini.gnu.xpm,

# Disable icons
Style * NoIcon

# Where are the images?:
ImagePath +:$[FVWM_USERDIR]/icons:/usr/share/pixmaps

# Functions ####################################################################

# Iconify function
DestroyFunc FuncFvwmMoveOrIconify
AddToFunc FuncFvwmMoveOrIconify
+ I Raise
+ M Move
+ D Iconify

# Do nothing at urgency and don't steal focus
DestroyFunc UrgencyFunc
DestroyFunc EWMHActivateWindowFunc

# Prevent WindowListFunc from warping the pointer to the top left corner
DestroyFunc WindowListFunc
AddToFunc WindowListFunc
+ I Iconify off
+ I FlipFocus
+ I Raise

# SelectWindow (Needed for RunOrRaise)
DestroyFunc SelectWindow
AddToFunc SelectWindow
+ I Focus
+ I Iconify false
+ I Raise

# Run or raise
DestroyFunc RunOrRaise
AddToFunc RunOrRaise
+ I Next ($0) SelectWindow
+ I TestRc (NoMatch) Exec exec $1

# Keybindings ##################################################################

# Move WindowList to SUPER+TAB and list windows in the current page only
Key Tab A M -
Key Tab A 4 WindowList (CurrentPage) Root c c NoIcons
Key Slash A 4 WindowList (CurrentPage) Root c c OnlyIcons
MenuStyle WindowList SelectOnRelease Super_L

# Menus
Key Grave A 4 Popup MenuFvwmRoot
Key o A 4 Popup MenuFvwmWindowOps
Key Period A 4 Popup MenuFvwmLogins

# Run or raise certain applications
Key e A 4 RunOrRaise Emacs "emacsclient --alternate-editor='' -c"
Key w A 4 RunOrRaise Seamonkey mozilla

Key Escape A 4 Exec exec xscreensaver-command -lock
Key Colon A 4 Module FvwmConsole

# Window ops
Key Return A 4 Iconify
Key k A 4S Close
Key m A 4 Move
Key r A 4 Resize
Key Question A 4 FvwmIdent

# Switch to page...
Key 1 A 4 GotoPage 0 0
Key 2 A 4 GotoPage 1 0
Key 3 A 4 GotoPage 2 0
Key 4 A 4 GotoPage 0 1
Key 5 A 4 GotoPage 1 1
Key 6 A 4 GotoPage 2 1
Key 7 A 4 GotoPage 0 2
Key 8 A 4 GotoPage 1 2
Key 9 A 4 GotoPage 2 2

# Move window to page...
Key 1 A 4S MoveToPage 0 0
Key 2 A 4S MoveToPage 1 0
Key 3 A 4S MoveToPage 2 0
Key 4 A 4S MoveToPage 0 1
Key 5 A 4S MoveToPage 1 1
Key 6 A 4S MoveToPage 2 1
Key 7 A 4S MoveToPage 0 2
Key 8 A 4S MoveToPage 1 2
Key 9 A 4S MoveToPage 2 2

# Mouse Bindings ###############################################################

# Without this one, iconified windows do not re-iconify when clicked:
Mouse 1 I A FuncFvwmMoveOrIconify

# Raise or lower window by right-clicking the border
Mouse 3 TSIF A RaiseLower

# What to do when clicking the root window
Mouse 2 R A Menu MenuFvwmWindowOps Nop
Mouse 3 R A WindowList

# Menus ########################################################################

DestroyMenu MenuFvwmRoot
AddToMenu MenuFvwmRoot "Root Menu" Title
+ "X&Term" Exec exec xterm
+ "&Emacs" Exec exec emacsclient --alternate-editor='' -c
+ "&Mozilla" Exec exec mozilla
+ "" Nop
+ "&SSH" Popup MenuFvwmLogins
+ "" Nop
+ "&FvwmConsole" Module FvwmConsole
+ "" Nop
+ "&Lock" Exec exec xscreensaver-command -lock
+ "Leave" Popup MenuLeave

DestroyMenu MenuFvwmWindowOps
AddToMenu MenuFvwmWindowOps "Window Ops" Title
+ "&Move" Move
+ "&Resize" Resize
+ "R&aise" Raise
+ "&Lower" Lower
+ "(De)&Iconify" Iconify
+ "(Un)&Stick" Stick
+ "(Un)Ma&ximize" Maximize-Func
+ "Pla&ce Again" PlaceAgain
+ "" Nop
+ "Ide&ntify" FvwmIdent
+ "" Nop
+ "Move to &Page..." Popup MenuMoveToPage
+ "" Nop
+ "&Delete" Delete
+ "Destroy" Destroy

DestroyMenu MenuMoveToPage
AddToMenu MenuMoveToPage "Move to..." Title
+ "&1. $[gt.Northwest]" MoveToPage 0 0
+ "&2. $[gt.North]" MoveToPage 1 0
+ "&3. $[gt.Northeast]" MoveToPage 2 0
+ "&4. $[gt.West]" MoveToPage 0 1
+ "&5. $[gt.Central]" MoveToPage 1 1
+ "&6. $[gt.East]" MoveToPage 2 1
+ "&7. $[gt.Southwest]" MoveToPage 0 2
+ "&8. $[gt.South]" MoveToPage 1 2
+ "&9. $[gt.Southeast]" MoveToPage 2 2

DestroyMenu MenuFvwmLogins
AddToMenu MenuFvwmLogins "Logins" Title
+ "&rofldell.local" Exec exec \
  xterm -title rofldell -n rofldell -e ssh rofldell.local
+ "&tesseract.hackerhaven.net" Exec exec \
  xterm -title tesseract -n tesseract -e ssh tesseract.hackerhaven.net
+ "is.not.a.&hax0r.se" Exec exec \
  xterm -title elisabeth -n elisabeth -e ssh is.not.a.hax0r.se
+ "t&urtil.net" Exec exec \
  xterm -title archon -n archon -e ssh turtil.net
+ "" Nop
+ "Mount ssh&fs" Exec exec sshfs-mount
+ "" Nop
+ "&A. Add Key" Exec exec ssh-add
+ "&D. Delete Key" Exec exec ssh-add -D

DestroyMenu MenuLeave
AddToMenu MenuLeave "Leave" Title
+ "&Restart FVWM" Restart
+ "" Nop
+ "Restart &twm" Restart twm
+ "Restart &xterm" Restart xterm
+ "" Nop
+ "Exit" Quit

# Modules ######################################################################

DestroyModuleConfig FvwmPager: *
Style FvwmPager !Title, !Borders, Sticky, WindowListSkip, CirculateSkipIcon, ClickToFocus, FixedPosition, FixedSize
*FvwmPager: Geometry 125x125-0+0
*FvwmPager: Font none
*FvwmPager: Back Grey5
*FvwmPager: Fore Grey25
*FvwmPager: MiniIcons
*FvwmPager: Balloons
*FvwmPager: BalloonFore White
*FvwmPager: BalloonBack DimGrey
*FvwmPager: BalloonBorderColor Black

DestroyModuleConfig FvwmIconMan: *
Style FvwmIconMan !Title, !Borders, !Iconifiable, Sticky, WindowListSkip, ClickToFocus
*FvwmIconMan: ManagerGeometry 1x0-0+125
*FvwmIconMan: ButtonGeometry 125x16
*FvwmIconMan: Font -misc-fixed-medium-r-*-*-10-*-*-*-*-*-*-*
*FvwmIconMan: Shape true
*FvwmIconMan: ShowOnlyIcons true
*FvwmIconMan: Format "%i"

DestroyModuleConfig FvwmButtons: *
Style FvwmButtons !Title, !Borders, Sticky, WindowListSkip, CirculateSkipIcon, ClickToFocus, FixedPosition, FixedSize
*FvwmButtons: Back DimGrey
*FvwmButtons: Rows 1
*FvwmButtons: Columns 4
*FvwmButtons: Geometry 96x24+0-0
*FvwmButtons: Padding 2 2
*FvwmButtons: Font -adobe-helvetica-bold-r-*-*-12-*-*-*-*-*-*-*
*FvwmButtons: "" mini.xterm.xpm Exec exec xterm
*FvwmButtons: "" mini.gnu.xpm RunOrRaise Emacs "emacsclient --alternate-editor='' -c"
*FvwmButtons: "" mini.nscape.xpm RunOrRaise Seamonkey mozilla
*FvwmButtons: "" mini.lock.xpm Exec exec xscreensaver-command -lock

# StartFunction ################################################################

AddToFunc StartFunction
+ I Module FvwmCommandS
+ I Module FvwmPager 0 0
+ I Module FvwmIconMan
+ I Module FvwmButtons
